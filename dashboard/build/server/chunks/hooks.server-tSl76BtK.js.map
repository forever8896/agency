{"version":3,"file":"hooks.server-tSl76BtK.js","sources":["../../../.svelte-kit/adapter-node/chunks/hooks.server.js"],"sourcesContent":["import { g as building } from \"./environment.js\";\nimport chokidar from \"chokidar\";\nimport path from \"path\";\nimport { readFile, readdir } from \"fs/promises\";\nimport { existsSync } from \"fs\";\nconst VALID_STATUSES = [\n  \"READY\",\n  \"IN_PROGRESS\",\n  \"DONE\",\n  \"QA_TESTING\",\n  \"QA_PASSED\",\n  \"QA_FAILED\",\n  \"REVIEWING\",\n  \"REVIEWED\",\n  \"SHIPPED\"\n];\nasync function parseBacklog(filePath) {\n  const columns = {};\n  for (const status of VALID_STATUSES) {\n    columns[status] = [];\n  }\n  if (!existsSync(filePath)) {\n    return { columns };\n  }\n  const content = await readFile(filePath, \"utf-8\");\n  const lines = content.split(\"\\n\");\n  let currentTask = null;\n  for (const line of lines) {\n    const headerMatch = line.match(/^## (READY|IN_PROGRESS|DONE|QA_TESTING|QA_PASSED|QA_FAILED|REVIEWING|REVIEWED|SHIPPED):\\s*(?:\\[P(\\d)\\])?\\s*(.+?)(?:\\s+@(\\S+))?$/);\n    if (headerMatch) {\n      if (currentTask && currentTask.status && currentTask.title) {\n        const status2 = currentTask.status;\n        columns[status2]?.push(currentTask);\n      }\n      const [, status, priority, title, assignee] = headerMatch;\n      currentTask = {\n        id: `${status}-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\n        status,\n        priority: priority ? parseInt(priority) : 2,\n        title: title.trim(),\n        assignee: assignee || \"unassigned\"\n      };\n      continue;\n    }\n    if (currentTask) {\n      const filesMatch = line.match(/^\\*\\*Files:\\*\\*\\s*(.+)$/);\n      if (filesMatch) {\n        currentTask.files = filesMatch[1].split(\",\").map((f) => f.trim());\n        continue;\n      }\n      const summaryMatch = line.match(/^\\*\\*Summary:\\*\\*\\s*(.+)$/);\n      if (summaryMatch) {\n        currentTask.summary = summaryMatch[1];\n        continue;\n      }\n      const testedMatch = line.match(/^\\*\\*Tested:\\*\\*\\s*(.+)$/);\n      if (testedMatch) {\n        currentTask.tested = testedMatch[1];\n        continue;\n      }\n    }\n  }\n  if (currentTask && currentTask.status && currentTask.title) {\n    const status = currentTask.status;\n    columns[status]?.push(currentTask);\n  }\n  return { columns };\n}\nasync function parseStandup(filePath) {\n  const agents = [];\n  if (!existsSync(filePath)) {\n    return agents;\n  }\n  const content = await readFile(filePath, \"utf-8\");\n  const agentNames = [\"product-owner\", \"tech-lead\", \"dev-alpha\", \"dev-beta\", \"dev-gamma\", \"qa\", \"reviewer\", \"devops\"];\n  for (const name of agentNames) {\n    const sectionRegex = new RegExp(`## ${name}\\\\n([\\\\s\\\\S]*?)(?=\\\\n## |$)`, \"i\");\n    const match = content.match(sectionRegex);\n    if (match) {\n      const section = match[1];\n      const statusMatch = section.match(/\\*\\*Status:\\*\\*\\s*(.+)/);\n      const workingMatch = section.match(/\\*\\*Working on:\\*\\*\\s*(.+)/);\n      const completedMatch = section.match(/\\*\\*Completed:\\*\\*\\s*(.+)/);\n      const blockersMatch = section.match(/\\*\\*Blockers:\\*\\*\\s*(.+)/);\n      const nextMatch = section.match(/\\*\\*Next:\\*\\*\\s*(.+)/);\n      const updatedMatch = section.match(/\\*Updated:\\s*(.+?)\\*/);\n      const rawStatus = statusMatch?.[1] || \"Idle\";\n      let status = \"Idle\";\n      if (rawStatus.toUpperCase().includes(\"BLOCKED\")) {\n        status = \"Blocked\";\n      } else if (rawStatus !== \"Idle\" && rawStatus !== \"--\") {\n        status = \"Working\";\n      }\n      agents.push({\n        name,\n        status,\n        workingOn: workingMatch?.[1] || \"--\",\n        completed: completedMatch?.[1] || \"--\",\n        blockers: blockersMatch?.[1] || \"None\",\n        next: nextMatch?.[1] || \"--\",\n        updated: updatedMatch?.[1] || \"--\"\n      });\n    } else {\n      agents.push({\n        name,\n        status: \"Idle\",\n        workingOn: \"--\",\n        completed: \"--\",\n        blockers: \"None\",\n        next: \"--\",\n        updated: \"--\"\n      });\n    }\n  }\n  return agents;\n}\nasync function parseHandoffs(dirPath) {\n  const handoffs = [];\n  if (!existsSync(dirPath)) {\n    return handoffs;\n  }\n  const files = await readdir(dirPath);\n  for (const file of files) {\n    if (!file.endsWith(\".md\") || file === \".gitkeep\") continue;\n    try {\n      const content = await readFile(path.join(dirPath, file), \"utf-8\");\n      const titleMatch = content.match(/^# (.+)/m);\n      const dateMatch = content.match(/\\*\\*Date:\\*\\*\\s*(.+)/);\n      const filenameMatch = file.match(/^(\\w+)-to-([\\w-]+)/);\n      let from = \"unknown\";\n      let to = \"unknown\";\n      if (filenameMatch) {\n        from = filenameMatch[1] === \"tl\" ? \"tech-lead\" : filenameMatch[1];\n        to = filenameMatch[2];\n      }\n      handoffs.push({\n        id: file.replace(\".md\", \"\"),\n        filename: file,\n        title: titleMatch?.[1] || file.replace(\".md\", \"\"),\n        from,\n        to,\n        date: dateMatch?.[1] || \"\"\n      });\n    } catch (e) {\n      console.error(`Error parsing handoff ${file}:`, e);\n    }\n  }\n  return handoffs;\n}\nconst DATA_DIR = process.env.AGENCY_DATA_DIR || path.resolve(process.cwd(), \"../agency/data\");\nclass FileWatcher {\n  watcher = null;\n  callbacks = /* @__PURE__ */ new Set();\n  currentState = {\n    backlog: { columns: {} },\n    agents: [],\n    handoffs: []\n  };\n  debounceTimer = null;\n  async start() {\n    console.log(`[FileWatcher] Watching: ${DATA_DIR}`);\n    const watchPaths = [\n      path.join(DATA_DIR, \"backlog.md\"),\n      path.join(DATA_DIR, \"standup.md\"),\n      path.join(DATA_DIR, \"handoffs\")\n    ];\n    await this.parseAll();\n    this.watcher = chokidar.watch(watchPaths, {\n      persistent: true,\n      ignoreInitial: true,\n      awaitWriteFinish: {\n        stabilityThreshold: 300,\n        pollInterval: 100\n      }\n    });\n    this.watcher.on(\"add\", (filePath) => this.handleChange(filePath)).on(\"change\", (filePath) => this.handleChange(filePath)).on(\"unlink\", (filePath) => this.handleChange(filePath));\n    console.log(\"[FileWatcher] Started\");\n  }\n  async parseAll() {\n    try {\n      const [backlog, agents, handoffs] = await Promise.all([\n        parseBacklog(path.join(DATA_DIR, \"backlog.md\")),\n        parseStandup(path.join(DATA_DIR, \"standup.md\")),\n        parseHandoffs(path.join(DATA_DIR, \"handoffs\"))\n      ]);\n      this.currentState = { backlog, agents, handoffs };\n    } catch (e) {\n      console.error(\"[FileWatcher] Parse error:\", e);\n    }\n  }\n  handleChange(filePath) {\n    if (this.debounceTimer) {\n      clearTimeout(this.debounceTimer);\n    }\n    this.debounceTimer = setTimeout(async () => {\n      console.log(`[FileWatcher] Change detected: ${path.basename(filePath)}`);\n      await this.parseAll();\n      this.notifySubscribers();\n    }, 200);\n  }\n  notifySubscribers() {\n    for (const callback of this.callbacks) {\n      try {\n        callback(this.currentState);\n      } catch (e) {\n        console.error(\"[FileWatcher] Callback error:\", e);\n      }\n    }\n  }\n  subscribe(callback) {\n    this.callbacks.add(callback);\n    callback(this.currentState);\n    return () => this.callbacks.delete(callback);\n  }\n  getState() {\n    return this.currentState;\n  }\n  stop() {\n    this.watcher?.close();\n    console.log(\"[FileWatcher] Stopped\");\n  }\n}\nconst fileWatcher = new FileWatcher();\nif (!building) {\n  fileWatcher.start().catch(console.error);\n  console.log(\"[Hooks] File watcher started\");\n}\n"],"names":[],"mappings":";;;;;AAKA,MAAM,cAAc,GAAG;AACvB,EAAE,OAAO;AACT,EAAE,aAAa;AACf,EAAE,MAAM;AACR,EAAE,YAAY;AACd,EAAE,WAAW;AACb,EAAE,WAAW;AACb,EAAE,WAAW;AACb,EAAE,UAAU;AACZ,EAAE;AACF,CAAC;AACD,eAAe,YAAY,CAAC,QAAQ,EAAE;AACtC,EAAE,MAAM,OAAO,GAAG,EAAE;AACpB,EAAE,KAAK,MAAM,MAAM,IAAI,cAAc,EAAE;AACvC,IAAI,OAAO,CAAC,MAAM,CAAC,GAAG,EAAE;AACxB,EAAE;AACF,EAAE,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,EAAE;AAC7B,IAAI,OAAO,EAAE,OAAO,EAAE;AACtB,EAAE;AACF,EAAE,MAAM,OAAO,GAAG,MAAM,QAAQ,CAAC,QAAQ,EAAE,OAAO,CAAC;AACnD,EAAE,MAAM,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC;AACnC,EAAE,IAAI,WAAW,GAAG,IAAI;AACxB,EAAE,KAAK,MAAM,IAAI,IAAI,KAAK,EAAE;AAC5B,IAAI,MAAM,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,iIAAiI,CAAC;AACrK,IAAI,IAAI,WAAW,EAAE;AACrB,MAAM,IAAI,WAAW,IAAI,WAAW,CAAC,MAAM,IAAI,WAAW,CAAC,KAAK,EAAE;AAClE,QAAQ,MAAM,OAAO,GAAG,WAAW,CAAC,MAAM;AAC1C,QAAQ,OAAO,CAAC,OAAO,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC;AAC3C,MAAM;AACN,MAAM,MAAM,GAAG,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,CAAC,GAAG,WAAW;AAC/D,MAAM,WAAW,GAAG;AACpB,QAAQ,EAAE,EAAE,CAAC,EAAE,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AAChF,QAAQ,MAAM;AACd,QAAQ,QAAQ,EAAE,QAAQ,GAAG,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC;AACnD,QAAQ,KAAK,EAAE,KAAK,CAAC,IAAI,EAAE;AAC3B,QAAQ,QAAQ,EAAE,QAAQ,IAAI;AAC9B,OAAO;AACP,MAAM;AACN,IAAI;AACJ,IAAI,IAAI,WAAW,EAAE;AACrB,MAAM,MAAM,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,yBAAyB,CAAC;AAC9D,MAAM,IAAI,UAAU,EAAE;AACtB,QAAQ,WAAW,CAAC,KAAK,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,IAAI,EAAE,CAAC;AACzE,QAAQ;AACR,MAAM;AACN,MAAM,MAAM,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,2BAA2B,CAAC;AAClE,MAAM,IAAI,YAAY,EAAE;AACxB,QAAQ,WAAW,CAAC,OAAO,GAAG,YAAY,CAAC,CAAC,CAAC;AAC7C,QAAQ;AACR,MAAM;AACN,MAAM,MAAM,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,0BAA0B,CAAC;AAChE,MAAM,IAAI,WAAW,EAAE;AACvB,QAAQ,WAAW,CAAC,MAAM,GAAG,WAAW,CAAC,CAAC,CAAC;AAC3C,QAAQ;AACR,MAAM;AACN,IAAI;AACJ,EAAE;AACF,EAAE,IAAI,WAAW,IAAI,WAAW,CAAC,MAAM,IAAI,WAAW,CAAC,KAAK,EAAE;AAC9D,IAAI,MAAM,MAAM,GAAG,WAAW,CAAC,MAAM;AACrC,IAAI,OAAO,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC;AACtC,EAAE;AACF,EAAE,OAAO,EAAE,OAAO,EAAE;AACpB;AACA,eAAe,YAAY,CAAC,QAAQ,EAAE;AACtC,EAAE,MAAM,MAAM,GAAG,EAAE;AACnB,EAAE,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,EAAE;AAC7B,IAAI,OAAO,MAAM;AACjB,EAAE;AACF,EAAE,MAAM,OAAO,GAAG,MAAM,QAAQ,CAAC,QAAQ,EAAE,OAAO,CAAC;AACnD,EAAE,MAAM,UAAU,GAAG,CAAC,eAAe,EAAE,WAAW,EAAE,WAAW,EAAE,UAAU,EAAE,WAAW,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,CAAC;AACrH,EAAE,KAAK,MAAM,IAAI,IAAI,UAAU,EAAE;AACjC,IAAI,MAAM,YAAY,GAAG,IAAI,MAAM,CAAC,CAAC,GAAG,EAAE,IAAI,CAAC,2BAA2B,CAAC,EAAE,GAAG,CAAC;AACjF,IAAI,MAAM,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC,YAAY,CAAC;AAC7C,IAAI,IAAI,KAAK,EAAE;AACf,MAAM,MAAM,OAAO,GAAG,KAAK,CAAC,CAAC,CAAC;AAC9B,MAAM,MAAM,WAAW,GAAG,OAAO,CAAC,KAAK,CAAC,wBAAwB,CAAC;AACjE,MAAM,MAAM,YAAY,GAAG,OAAO,CAAC,KAAK,CAAC,4BAA4B,CAAC;AACtE,MAAM,MAAM,cAAc,GAAG,OAAO,CAAC,KAAK,CAAC,2BAA2B,CAAC;AACvE,MAAM,MAAM,aAAa,GAAG,OAAO,CAAC,KAAK,CAAC,0BAA0B,CAAC;AACrE,MAAM,MAAM,SAAS,GAAG,OAAO,CAAC,KAAK,CAAC,sBAAsB,CAAC;AAC7D,MAAM,MAAM,YAAY,GAAG,OAAO,CAAC,KAAK,CAAC,sBAAsB,CAAC;AAChE,MAAM,MAAM,SAAS,GAAG,WAAW,GAAG,CAAC,CAAC,IAAI,MAAM;AAClD,MAAM,IAAI,MAAM,GAAG,MAAM;AACzB,MAAM,IAAI,SAAS,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE;AACvD,QAAQ,MAAM,GAAG,SAAS;AAC1B,MAAM,CAAC,MAAM,IAAI,SAAS,KAAK,MAAM,IAAI,SAAS,KAAK,IAAI,EAAE;AAC7D,QAAQ,MAAM,GAAG,SAAS;AAC1B,MAAM;AACN,MAAM,MAAM,CAAC,IAAI,CAAC;AAClB,QAAQ,IAAI;AACZ,QAAQ,MAAM;AACd,QAAQ,SAAS,EAAE,YAAY,GAAG,CAAC,CAAC,IAAI,IAAI;AAC5C,QAAQ,SAAS,EAAE,cAAc,GAAG,CAAC,CAAC,IAAI,IAAI;AAC9C,QAAQ,QAAQ,EAAE,aAAa,GAAG,CAAC,CAAC,IAAI,MAAM;AAC9C,QAAQ,IAAI,EAAE,SAAS,GAAG,CAAC,CAAC,IAAI,IAAI;AACpC,QAAQ,OAAO,EAAE,YAAY,GAAG,CAAC,CAAC,IAAI;AACtC,OAAO,CAAC;AACR,IAAI,CAAC,MAAM;AACX,MAAM,MAAM,CAAC,IAAI,CAAC;AAClB,QAAQ,IAAI;AACZ,QAAQ,MAAM,EAAE,MAAM;AACtB,QAAQ,SAAS,EAAE,IAAI;AACvB,QAAQ,SAAS,EAAE,IAAI;AACvB,QAAQ,QAAQ,EAAE,MAAM;AACxB,QAAQ,IAAI,EAAE,IAAI;AAClB,QAAQ,OAAO,EAAE;AACjB,OAAO,CAAC;AACR,IAAI;AACJ,EAAE;AACF,EAAE,OAAO,MAAM;AACf;AACA,eAAe,aAAa,CAAC,OAAO,EAAE;AACtC,EAAE,MAAM,QAAQ,GAAG,EAAE;AACrB,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE;AAC5B,IAAI,OAAO,QAAQ;AACnB,EAAE;AACF,EAAE,MAAM,KAAK,GAAG,MAAM,OAAO,CAAC,OAAO,CAAC;AACtC,EAAE,KAAK,MAAM,IAAI,IAAI,KAAK,EAAE;AAC5B,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,IAAI,KAAK,UAAU,EAAE;AACtD,IAAI,IAAI;AACR,MAAM,MAAM,OAAO,GAAG,MAAM,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,EAAE,OAAO,CAAC;AACvE,MAAM,MAAM,UAAU,GAAG,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC;AAClD,MAAM,MAAM,SAAS,GAAG,OAAO,CAAC,KAAK,CAAC,sBAAsB,CAAC;AAC7D,MAAM,MAAM,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,oBAAoB,CAAC;AAC5D,MAAM,IAAI,IAAI,GAAG,SAAS;AAC1B,MAAM,IAAI,EAAE,GAAG,SAAS;AACxB,MAAM,IAAI,aAAa,EAAE;AACzB,QAAQ,IAAI,GAAG,aAAa,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,WAAW,GAAG,aAAa,CAAC,CAAC,CAAC;AACzE,QAAQ,EAAE,GAAG,aAAa,CAAC,CAAC,CAAC;AAC7B,MAAM;AACN,MAAM,QAAQ,CAAC,IAAI,CAAC;AACpB,QAAQ,EAAE,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;AACnC,QAAQ,QAAQ,EAAE,IAAI;AACtB,QAAQ,KAAK,EAAE,UAAU,GAAG,CAAC,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;AACzD,QAAQ,IAAI;AACZ,QAAQ,EAAE;AACV,QAAQ,IAAI,EAAE,SAAS,GAAG,CAAC,CAAC,IAAI;AAChC,OAAO,CAAC;AACR,IAAI,CAAC,CAAC,OAAO,CAAC,EAAE;AAChB,MAAM,OAAO,CAAC,KAAK,CAAC,CAAC,sBAAsB,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;AACxD,IAAI;AACJ,EAAE;AACF,EAAE,OAAO,QAAQ;AACjB;AACA,MAAM,QAAQ,GAAG,OAAO,CAAC,GAAG,CAAC,eAAe,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,gBAAgB,CAAC;AAC7F,MAAM,WAAW,CAAC;AAClB,EAAE,OAAO,GAAG,IAAI;AAChB,EAAE,SAAS,mBAAmB,IAAI,GAAG,EAAE;AACvC,EAAE,YAAY,GAAG;AACjB,IAAI,OAAO,EAAE,EAAE,OAAO,EAAE,EAAE,EAAE;AAC5B,IAAI,MAAM,EAAE,EAAE;AACd,IAAI,QAAQ,EAAE;AACd,GAAG;AACH,EAAE,aAAa,GAAG,IAAI;AACtB,EAAE,MAAM,KAAK,GAAG;AAChB,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC,wBAAwB,EAAE,QAAQ,CAAC,CAAC,CAAC;AACtD,IAAI,MAAM,UAAU,GAAG;AACvB,MAAM,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,YAAY,CAAC;AACvC,MAAM,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,YAAY,CAAC;AACvC,MAAM,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,UAAU;AACpC,KAAK;AACL,IAAI,MAAM,IAAI,CAAC,QAAQ,EAAE;AACzB,IAAI,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,KAAK,CAAC,UAAU,EAAE;AAC9C,MAAM,UAAU,EAAE,IAAI;AACtB,MAAM,aAAa,EAAE,IAAI;AACzB,MAAM,gBAAgB,EAAE;AACxB,QAAQ,kBAAkB,EAAE,GAAG;AAC/B,QAAQ,YAAY,EAAE;AACtB;AACA,KAAK,CAAC;AACN,IAAI,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,KAAK,EAAE,CAAC,QAAQ,KAAK,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC,QAAQ,EAAE,CAAC,QAAQ,KAAK,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC,QAAQ,EAAE,CAAC,QAAQ,KAAK,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;AACrL,IAAI,OAAO,CAAC,GAAG,CAAC,uBAAuB,CAAC;AACxC,EAAE;AACF,EAAE,MAAM,QAAQ,GAAG;AACnB,IAAI,IAAI;AACR,MAAM,MAAM,CAAC,OAAO,EAAE,MAAM,EAAE,QAAQ,CAAC,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC;AAC5D,QAAQ,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,YAAY,CAAC,CAAC;AACvD,QAAQ,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,YAAY,CAAC,CAAC;AACvD,QAAQ,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,UAAU,CAAC;AACrD,OAAO,CAAC;AACR,MAAM,IAAI,CAAC,YAAY,GAAG,EAAE,OAAO,EAAE,MAAM,EAAE,QAAQ,EAAE;AACvD,IAAI,CAAC,CAAC,OAAO,CAAC,EAAE;AAChB,MAAM,OAAO,CAAC,KAAK,CAAC,4BAA4B,EAAE,CAAC,CAAC;AACpD,IAAI;AACJ,EAAE;AACF,EAAE,YAAY,CAAC,QAAQ,EAAE;AACzB,IAAI,IAAI,IAAI,CAAC,aAAa,EAAE;AAC5B,MAAM,YAAY,CAAC,IAAI,CAAC,aAAa,CAAC;AACtC,IAAI;AACJ,IAAI,IAAI,CAAC,aAAa,GAAG,UAAU,CAAC,YAAY;AAChD,MAAM,OAAO,CAAC,GAAG,CAAC,CAAC,+BAA+B,EAAE,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;AAC9E,MAAM,MAAM,IAAI,CAAC,QAAQ,EAAE;AAC3B,MAAM,IAAI,CAAC,iBAAiB,EAAE;AAC9B,IAAI,CAAC,EAAE,GAAG,CAAC;AACX,EAAE;AACF,EAAE,iBAAiB,GAAG;AACtB,IAAI,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,SAAS,EAAE;AAC3C,MAAM,IAAI;AACV,QAAQ,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC;AACnC,MAAM,CAAC,CAAC,OAAO,CAAC,EAAE;AAClB,QAAQ,OAAO,CAAC,KAAK,CAAC,+BAA+B,EAAE,CAAC,CAAC;AACzD,MAAM;AACN,IAAI;AACJ,EAAE;AACF,EAAE,SAAS,CAAC,QAAQ,EAAE;AACtB,IAAI,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC;AAChC,IAAI,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC;AAC/B,IAAI,OAAO,MAAM,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ,CAAC;AAChD,EAAE;AACF,EAAE,QAAQ,GAAG;AACb,IAAI,OAAO,IAAI,CAAC,YAAY;AAC5B,EAAE;AACF,EAAE,IAAI,GAAG;AACT,IAAI,IAAI,CAAC,OAAO,EAAE,KAAK,EAAE;AACzB,IAAI,OAAO,CAAC,GAAG,CAAC,uBAAuB,CAAC;AACxC,EAAE;AACF;AACA,MAAM,WAAW,GAAG,IAAI,WAAW,EAAE;AACtB;AACf,EAAE,WAAW,CAAC,KAAK,EAAE,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC;AAC1C,EAAE,OAAO,CAAC,GAAG,CAAC,8BAA8B,CAAC;AAC7C"}